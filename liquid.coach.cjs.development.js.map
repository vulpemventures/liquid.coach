{"version":3,"file":"liquid.coach.cjs.development.js","sources":["../src/components/Layout.tsx","../src/elements/InputWithCopy.tsx","../src/helpers/xpub.ts","../src/helpers/inputs.ts","../src/helpers/index.ts","../src/components/Load.tsx","../src/elements/TextWithCopy.tsx","../src/components/UpdateTx.tsx","../node_modules/babel-plugin-transform-async-to-promises/helpers.js","../src/wallet/index.ts","../src/components/CreateTx.tsx","../src/components/DecodeTx.tsx","../src/elements/Circle.tsx","../src/elements/Balances.tsx","../src/elements/Spinner.tsx","../src/components/Wallet.tsx","../src/App.tsx","../src/index.tsx"],"sourcesContent":["import React from 'react';\n\ninterface Props {\n  title?: string;\n  onClean?(): void;\n  onExplorer?(explorer: string): void;\n  showExplorer: boolean;\n}\n\nclass Layout extends React.Component<Props> {\n  changeUrl() {\n    const errorMsg = 'Not valid endpoint';\n    let url = prompt('Custom Electrs REST endpoint to use');\n    try {\n      if (!url || typeof url != 'string' || url.length <= 0) {\n        throw new Error();\n      }\n      new URL(url!);\n      if (url.includes('localhost')) url = `http://${url}`;\n      this.props.onExplorer!(url!);\n    } catch (ignore) {\n      alert(errorMsg);\n    }\n  }\n\n  render() {\n    const withCleanButton = this.props.onClean ? (\n      <span className=\"button is-pulled-right\" onClick={this.props.onClean}>\n        Reset\n      </span>\n    ) : null;\n\n    const withExplorer = this.props.showExplorer ? (\n      <span className=\"button is-pulled-right\" onClick={() => this.changeUrl()}>\n        Explorer\n      </span>\n    ) : null;\n\n    const withTitle = this.props.title ? (\n      <section className=\"hero is-light\">\n        <div className=\"hero-body\">\n          <div className=\"container\">\n            <div className=\"columns\">\n              <div className=\"column is-8 is-desktop is-offset-2 has-text-centered\">\n                <h1 className=\"title\">{this.props.title}</h1>\n              </div>\n              <div className=\"column is-1 has-text-centered\">\n                {withExplorer}\n              </div>\n              <div className=\"column is-1 has-text-centered\">\n                {withCleanButton}\n              </div>\n            </div>\n          </div>\n        </div>\n      </section>\n    ) : null;\n\n    return (\n      <div style={{ minHeight: '100vh', position: 'relative' }}>\n        {withTitle}\n        <div\n          style={{\n            paddingTop: '5rem',\n            paddingRight: '1rem',\n            paddingLeft: '1rem',\n            paddingBottom: '5rem',\n          }}\n        >\n          {this.props.children}\n        </div>\n        <footer\n          style={{\n            position: 'absolute',\n            bottom: 0,\n            height: '5rem',\n            width: '100%',\n            display: 'flex',\n            justifyContent: 'center',\n            alignItems: 'center',\n          }}\n        >\n          <p>\n            <a\n              href=\"https://vulpem.com\"\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n            >\n              © Vulpem Ventures OU\n            </a>\n          </p>\n        </footer>\n      </div>\n    );\n  }\n}\n\nexport default Layout;\n","import React, { useState } from 'react';\nimport { copyToClipboard } from 'copy-lite';\n\ninterface Props {\n  value: string;\n  bgColor?: string;\n}\nexport const InputWithCopy: React.FunctionComponent<Props> = props => {\n  const [copySuccess, setCopySuccess] = useState('');\n\n  const copy = () => {\n    copyToClipboard(props.value);\n    setCopySuccess('👌 Copied!');\n  };\n\n  return (\n    <div className={`notification ${props.bgColor || 'is-success'}`}>\n      <button className=\"button is-pulled-right\" onClick={copy}>\n        Copy\n      </button>\n      <p className=\"subtitle\">{copySuccess}</p>\n      <br />\n      <p className=\"subtitle\">{props.value}</p>\n    </div>\n  );\n};\n\nexport default InputWithCopy;\n","// This has benne taken from https://github.com/Casa/xpub-converter/blob/master/js/xpubConvert.js\n/*\n  This script uses version bytes as described in SLIP-132\n  https://github.com/satoshilabs/slips/blob/master/slip-0132.md\n*/\nimport b58 from 'bs58check';\nimport * as bip32 from 'bip32';\nimport { address, Network, ECPair } from 'liquidjs-lib';\n\nconst prefixes = new Map([\n  ['xpub', '0488b21e'],\n  ['ypub', '049d7cb2'],\n  ['Ypub', '0295b43f'],\n  ['zpub', '04b24746'],\n  ['Zpub', '02aa7ed3'],\n  ['tpub', '043587cf'],\n  ['upub', '044a5262'],\n  ['Upub', '024289ef'],\n  ['vpub', '045f1cf6'],\n  ['Vpub', '02575483'],\n]);\n\n/*\n * This function takes an extended public key (with any version bytes, it doesn't need to be an xpub)\n * and converts it to an extended public key formatted with the desired version bytes\n * @param xpub: an extended public key in base58 format. Example: xpub6CpihtY9HVc1jNJWCiXnRbpXm5BgVNKqZMsM4XqpDcQigJr6AHNwaForLZ3kkisDcRoaXSUms6DJNhxFtQGeZfWAQWCZQe1esNetx5Wqe4M\n * @param targetFormat: a string representing the desired prefix; must exist in the \"prefixes\" mapping defined above. Example: Zpub\n */\nexport function changeVersionBytes(xpub: string, targetFormat: string) {\n  if (!prefixes.has(targetFormat)) {\n    return 'Invalid target version';\n  }\n\n  // trim whitespace\n  xpub = xpub.trim();\n\n  try {\n    let data = b58.decode(xpub);\n    data = data.slice(4);\n    data = Buffer.concat([\n      Buffer.from(prefixes.get(targetFormat)!, 'hex'),\n      data,\n    ]);\n    return b58.encode(data);\n  } catch (err) {\n    throw new Error(\n      \"Invalid extended public key! Please double check that you didn't accidentally paste extra data.\"\n    );\n  }\n}\n\nexport function isValidXpub(xpub: string, network: Network): Boolean {\n  try {\n    bip32.fromBase58(xpub, network);\n  } catch (e) {\n    return false;\n  }\n\n  return true;\n}\n\nexport function isValidAddress(value: string, network: Network) {\n  try {\n    address.toOutputScript(value, network);\n  } catch (e) {\n    return false;\n  }\n\n  return true;\n}\n\nexport function isValidBlindingKey(value: string): boolean {\n  try {\n    ECPair.fromPrivateKey(Buffer.from(value, 'hex'));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n","import { address, Network, confidential, networks } from 'liquidjs-lib';\n\nfunction isValidConfidentialAddress(value: string): boolean {\n  try {\n    address.fromConfidential(value);\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nexport function validate(\n  value: any,\n  type: string,\n  network: Network = networks.regtest\n): boolean {\n  switch (type) {\n    case 'asset':\n      if (value.length !== 64) {\n        return false;\n      }\n      return true;\n    case 'address':\n      try {\n        if (isValidConfidentialAddress(value))\n          throw new Error('Unconfidential only');\n        if (value !== 'LBTC_FEES') address.toOutputScript(value, network);\n      } catch (ignore) {\n        console.error(ignore);\n        return false;\n      }\n      return true;\n    case 'amount':\n      try {\n        confidential.satoshiToConfidentialValue(Number(value));\n      } catch (ignore) {\n        return false;\n      }\n      return true;\n    default:\n      return false;\n  }\n}\n","export * from './xpub';\nexport * from './inputs';\n\n/**\n * Shortens a long string to a human-friendly abbreviated one.\n *\n * A string like 2ed982c220fed6c9374e63804670fc16bd481b8f provides no more value to a human than\n * a shortened version like 2ed9...1b8f. However, screen real estate is precious, especially to real users\n * and not developers with high-res monitors.\n */\nexport function toHumanFriendlyString(x: string) {\n  const previewLength = 4;\n\n  const previewPrefix = x.substring(0, previewLength);\n  const previewSuffix = x.substring(x.length - previewLength);\n\n  return `${previewPrefix}...${previewSuffix}`;\n}\n\nexport function fromSatoshi(x: number) {\n  return Math.floor(x) / Math.pow(10, 8);\n}\n\nexport function toSatoshi(x: number) {\n  return Math.floor(x * Math.pow(10, 8));\n}\n\nexport function toAssetHash(x: Buffer): string {\n  const withoutFirstByte = x.slice(1);\n  return withoutFirstByte.reverse().toString('hex');\n}\n","import React, { useState, useRef } from 'react';\n\nimport { networks, Network, payments, address, ECPair } from 'liquidjs-lib';\nimport * as bip39 from 'bip39';\nimport * as bip32 from 'bip32';\n\nimport InputWithCopy from '../elements/InputWithCopy';\nimport {\n  isValidAddress,\n  isValidBlindingKey,\n  changeVersionBytes,\n} from '../helpers';\n\ninterface Props {\n  onLoad(identity: string, network: string, blindingPrivKey?: string): void;\n}\n\nconst Load: React.FunctionComponent<Props> = props => {\n  const [isLiquid, setIsLiquid] = useState(false);\n  const [showConfirm, setShowConfirm] = useState(false);\n  const [showBlinding, setShowBlinding] = useState(false);\n  const [blindingPubkey, setBlindingPubkey] = useState('');\n\n  const pubkey = useRef(null);\n  const blindingPrivKey = useRef(null);\n\n  const networkString: string = isLiquid ? 'liquid' : 'regtest';\n  const currentNetwork: Network = (networks as any)[networkString];\n\n  const onAddressInputChange = (value: string) => {\n    try {\n      const { blindingKey } = address.fromConfidential(value);\n      setShowBlinding(true);\n      setBlindingPubkey(blindingKey.toString('hex'));\n    } catch (ignore) {\n      setShowBlinding(false);\n    }\n  };\n\n  const checkInput = () => {\n    if (!pubkey || !pubkey.current) return alert('Missing address');\n\n    const pub: any = (pubkey.current as any).value;\n    if (!isValidAddress(pub, currentNetwork))\n      return alert('Given address is not a valid segwit address');\n\n    if (showBlinding) {\n      if (!blindingPrivKey || !blindingPrivKey.current)\n        return alert('Missing blinding key');\n\n      const blinding: any = (blindingPrivKey.current as any).value;\n      if (!isValidBlindingKey(blinding))\n        return alert('Given blinding key is not valid');\n\n      const blindKeyPair = ECPair.fromPrivateKey(Buffer.from(blinding, 'hex'));\n      if (blindKeyPair.publicKey.toString('hex') !== blindingPubkey)\n        return alert(\n          'Given blinding private key do not corresponds to the given address'\n        );\n\n      return props.onLoad(pub, networkString, blinding);\n    }\n\n    props.onLoad(pub, networkString);\n  };\n\n  const confirmModal = () => {\n    const mnemonic = bip39.generateMnemonic();\n    if (!bip39.validateMnemonic(mnemonic)) return alert('Something went wrong');\n\n    const seed = bip39.mnemonicToSeedSync(mnemonic);\n    const root = bip32.fromSeed(seed, currentNetwork);\n    const xpub = root.toBase58();\n    const version = isLiquid ? 'zpub' : 'vpub';\n    const extPub = changeVersionBytes(xpub, version);\n\n    return (\n      <div className=\"modal is-active\">\n        <div className=\"modal-background\"></div>\n        <div className=\"modal-card\">\n          <header className=\"modal-card-head\">\n            <p className=\"modal-card-title\">\n              Liquid {`${!isLiquid ? 'regtest' : ''}`} wallet\n            </p>\n          </header>\n          <section className=\"modal-card-body\">\n            <label className=\"label\">Mnemonic</label>\n            <p className=\"subtitle is-6\">\n              You will never see it again. You may want to write it down\n            </p>\n            <InputWithCopy value={mnemonic} bgColor=\"is-info is-light\" />\n            <p className=\"subtitle is-6\">\n              The derivation path used for generating the address is{' '}\n              <b>m/84'/0'/0'/0</b>\n            </p>\n            <label className=\"label\">Extended public key</label>\n            <InputWithCopy value={extPub} bgColor=\"is-info is-light\" />\n          </section>\n          <footer className=\"modal-card-foot\">\n            <button\n              className=\"button is-primary\"\n              onClick={() => {\n                const node = root.derivePath(\"m/84'/0'/0'/0\");\n                const wpkh = payments.p2wpkh({\n                  pubkey: node.publicKey,\n                  network: currentNetwork,\n                });\n\n                props.onLoad(wpkh.address!, networkString);\n              }}\n            >\n              Confirm\n            </button>\n            <button className=\"button\" onClick={() => setShowConfirm(false)}>\n              Cancel\n            </button>\n          </footer>\n        </div>\n      </div>\n    );\n  };\n\n  return (\n    <div className=\"column has-text-centered is-10-mobile is-6-desktop is-offset-1-mobile is-offset-3-desktop\">\n      <div className=\"field\" onClick={() => setIsLiquid(!isLiquid)}>\n        <input\n          type=\"checkbox\"\n          className=\"switch is-medium is-link\"\n          checked={isLiquid}\n          onChange={() => {}}\n        />\n        <label className=\"label\">{`${isLiquid ? 'Liquid' : 'Regtest'}`}</label>\n      </div>\n      <input\n        type=\"text\"\n        ref={pubkey}\n        className=\"input is-medium mb-6\"\n        onChange={(e: any) => onAddressInputChange(e.target.value)}\n        placeholder=\"Your native segwit address here...\"\n      />\n      {showBlinding && (\n        <input\n          type=\"text\"\n          ref={blindingPrivKey}\n          className=\"input is-medium mb-6\"\n          placeholder=\"Your private blinding key here (hex format)...\"\n        />\n      )}\n      <br />\n      <br />\n      <button className=\"button is-link is-large\" onClick={checkInput}>\n        Load\n      </button>\n      <br />\n      <br />\n      <div>\n        <p className=\"subtitle\">or create a new one...</p>\n        <button\n          className=\"button is-primary is-large\"\n          onClick={() => setShowConfirm(true)}\n        >\n          Generate\n        </button>\n        {showConfirm && confirmModal()}\n      </div>\n    </div>\n  );\n};\n\nexport default Load;\n","import React, { useState } from 'react';\nimport { copyToClipboard } from 'copy-lite';\n\ninterface Props {\n  value: string;\n  label?: string;\n  textClass?: string;\n}\nexport const TextWithCopy: React.FunctionComponent<Props> = props => {\n  const [copySuccess, setCopySuccess] = useState('');\n\n  const copy = () => {\n    copyToClipboard(props.value);\n    setCopySuccess('👌 Copied!');\n    setTimeout(() => setCopySuccess(''), 1500);\n  };\n\n  const textClass = props.textClass ? props.textClass : 'subtitle';\n\n  return (\n    <span onClick={copy}>\n      <p className={textClass}>\n        {props.label || props.value} {copySuccess}\n      </p>\n    </span>\n  );\n};\n\nexport default TextWithCopy;\n","import React, { useState } from 'react';\nimport { useForm } from 'react-hook-form';\nimport TextWithCopy from '../elements/TextWithCopy';\nimport { validate, toHumanFriendlyString } from '../helpers';\nimport { networks } from 'liquidjs-lib';\n\ninterface Props {\n  network: string;\n  utxos: Object;\n  lbtc: string;\n  inputs: Array<any>;\n  outputs: Array<any>;\n  onEncode(inputs: Array<any>, outputs: Array<any>): void;\n  onSign?(): void;\n}\n\nconst Update: React.FunctionComponent<Props> = props => {\n  const { utxos: utxosByAsset, lbtc, network } = props;\n\n  const [inputAssetIndex, setInputAssetIndex] = useState(0);\n  const [utxoIndex, setUtxoIndex] = useState(0);\n  const [inputs, setInputs] = useState(props.inputs);\n  const [outputs, setOutputs] = useState(props.outputs);\n\n  const assets: Array<string> = Object.keys(utxosByAsset);\n  const utxos: Array<any> = (utxosByAsset as any)[assets[inputAssetIndex]];\n\n  const addInput = (e: any) => {\n    e.preventDefault();\n    setInputs((is: any) => is.concat([utxos[utxoIndex]]));\n  };\n  const onAssetChange = (e: any) => {\n    setInputAssetIndex(e.target.value);\n    setUtxoIndex(0);\n  };\n  const onUtxoChange = (e: any) => setUtxoIndex(e.target.value);\n\n  const { register, handleSubmit, errors, setError } = useForm();\n\n  const addOutput = ({\n    amount,\n    asset,\n    address,\n  }: {\n    amount: number;\n    asset: string;\n    address: string;\n  }) => {\n    if (!validate(asset, 'asset')) {\n      setError('asset' as any);\n      return;\n    }\n\n    if (!validate(address, 'address', (networks as any)[network])) {\n      setError('address' as any);\n      return;\n    }\n\n    if (!validate(amount, 'amount')) {\n      setError('amount' as any);\n      return;\n    }\n\n    setOutputs((os: any) =>\n      os.concat([\n        {\n          value: amount,\n          asset,\n          address,\n        },\n      ])\n    );\n  };\n\n  const removeInput = (index: number) =>\n    setInputs(inputs.filter((_o: any, i: number) => i !== index));\n  const removeOutput = (index: number) =>\n    setOutputs(outputs.filter((_o: any, i: number) => i !== index));\n\n  const addFeeOutput = () => {\n    const amount = prompt('Enter the amount in satoshis to cover fees');\n    if (!amount || isNaN(Number(amount)) || Number(amount) <= 0)\n      return alert('Not a valid number');\n    setOutputs((os: any) =>\n      os.concat([\n        {\n          value: amount,\n          address: 'LBTC_FEES',\n          asset: lbtc,\n        },\n      ])\n    );\n  };\n\n  return (\n    <div>\n      <div className=\"box\">\n        <h1 className=\"title\">Inputs</h1>\n        <div className=\"field has-addons\">\n          <div className=\"control is-expanded has-text-centered\">\n            <label className=\"label\">Asset</label>\n            <div className=\"select is-info is-medium is-fullwidth\">\n              <select value={inputAssetIndex} onChange={onAssetChange}>\n                {assets.map((a: any, i: number) => (\n                  <option key={i} value={i}>\n                    {a === lbtc ? 'L-BTC' : toHumanFriendlyString(a)}\n                  </option>\n                ))}\n              </select>\n            </div>\n          </div>\n          <div className=\"control is-expanded has-text-centered\">\n            <label className=\"label\">Unspent</label>\n            <div className=\"select is-info is-medium is-fullwidth\">\n              <select value={utxoIndex} onChange={onUtxoChange}>\n                {utxos.map((u: any, i: number) => (\n                  <option key={i} value={i}>\n                    {toHumanFriendlyString(u.txid) + ' ' + u.value}\n                  </option>\n                ))}\n              </select>\n            </div>\n          </div>\n          <div className=\"control\">\n            <label style={{ visibility: 'hidden' }} className=\"label\">\n              <span role=\"img\" aria-label=\"vulpem\">\n                🦊\n              </span>\n            </label>\n            <button className=\"button is-link is-medium\" onClick={addInput}>\n              {' '}\n              Add{' '}\n            </button>\n          </div>\n        </div>\n\n        <span>\n          {inputs.map((i: any, index: number) => (\n            <div key={index} className=\"field has-addons\">\n              <button\n                className=\"button is-medium is-fullwidth\"\n                style={{ borderColor: 'transparent' }}\n              >\n                <TextWithCopy\n                  label={\n                    i.asset === lbtc ? 'L-BTC' : toHumanFriendlyString(i.asset)\n                  }\n                  value={i.asset}\n                />\n              </button>\n              <button\n                className=\"button is-medium is-fullwidth\"\n                style={{ borderColor: 'transparent' }}\n              >\n                <TextWithCopy\n                  label={toHumanFriendlyString(i.txid) + ' ' + i.value}\n                  value={i.txid}\n                />\n              </button>\n              <button\n                className=\"button is-danger\"\n                onClick={() => removeInput(index)}\n              >\n                Delete\n              </button>\n            </div>\n          ))}\n        </span>\n      </div>\n\n      <div className=\"box\">\n        <div className=\"columns\">\n          <div className=\"column is-6 is-offset-3\">\n            <h1 className=\"title\">Outputs</h1>\n          </div>\n          <div className=\"column is-3\">\n            <button className=\"button is-pulled-right\" onClick={addFeeOutput}>\n              Add Fee output\n            </button>\n          </div>\n        </div>\n\n        <form\n          className=\"form\"\n          onSubmit={handleSubmit((data: any) => addOutput(data))}\n        >\n          <div className=\"field has-addons\">\n            <div className=\"control is-expanded has-text-centered\">\n              <label className=\"label\">Asset</label>\n              <input\n                className=\"input is-medium is-fullwidth\"\n                type=\"text\"\n                name=\"asset\"\n                placeholder=\"Asset hash\"\n                ref={register({ required: true })}\n              />\n              {errors.asset && (\n                <div className=\"notification is-danger\">\n                  This field is not valid\n                </div>\n              )}\n            </div>\n            <div className=\"control is-expanded has-text-centered\">\n              <label className=\"label\">Address</label>\n              <input\n                className=\"input is-medium is-fullwidth\"\n                name=\"address\"\n                type=\"text\"\n                placeholder=\"Unconfidential address only\"\n                ref={register({ required: true })}\n              />\n              {errors.address && (\n                <div className=\"notification is-danger\">\n                  This field is not valid\n                </div>\n              )}\n            </div>\n            <div className=\"control is-expanded has-text-centered\">\n              <label className=\"label\">Amount</label>\n              <input\n                className=\"input is-medium is-fullwidth\"\n                name=\"amount\"\n                type=\"number\"\n                placeholder=\"In satoshis\"\n                ref={register({ required: true })}\n              />\n              {errors.amount && (\n                <div className=\"notification is-danger\">\n                  This field is not valid\n                </div>\n              )}\n            </div>\n            <div className=\"control\">\n              <label style={{ visibility: 'hidden' }} className=\"label\">\n                <span role=\"img\" aria-label=\"vulpem\">\n                  🦊\n                </span>\n              </label>\n              <button type=\"submit\" className=\"button is-link is-medium\">\n                {' '}\n                Add{' '}\n              </button>\n            </div>\n          </div>\n        </form>\n\n        <span>\n          <br />\n          {outputs.map((o: any, index: number) => (\n            <div key={index} className=\"field has-addons\">\n              <button\n                className=\"button is-medium is-fullwidth\"\n                style={{ borderColor: 'transparent' }}\n              >\n                <TextWithCopy\n                  label={toHumanFriendlyString(o.asset)}\n                  value={o.asset}\n                />\n              </button>\n              <button\n                className=\"button is-medium is-fullwidth\"\n                style={{ borderColor: 'transparent' }}\n              >\n                <TextWithCopy\n                  label={toHumanFriendlyString(o.address)}\n                  value={o.address}\n                />\n              </button>\n              <button\n                className=\"button is-medium is-fullwidth\"\n                style={{ borderColor: 'transparent' }}\n              >\n                <TextWithCopy label={o.value} value={o.value} />\n              </button>\n              <button\n                className=\"button is-danger\"\n                onClick={() => removeOutput(index)}\n              >\n                Delete\n              </button>\n            </div>\n          ))}\n        </span>\n      </div>\n\n      <div className=\"box is-centered\">\n        <p className=\"subtitle\"> Total inputs {inputs.length} </p>\n        <p className=\"subtitle\"> Total outputs {outputs.length} </p>\n        <button\n          className=\"button is-large\"\n          onClick={() => props.onEncode(inputs, outputs)}\n        >\n          <span role=\"img\" aria-label=\"encode psbt\">\n            🚜\n          </span>\n          ‍Encode\n        </button>\n        <button className=\"button is-large\" onClick={props.onSign!}>\n          <span role=\"img\" aria-label=\"sign psbt\">\n            ✍\n          </span>\n          Sign\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default Update;\n","// A type of promise-like that resolves synchronously and supports only one observer\nexport const _Pact = /*#__PURE__*/(function() {\n\tfunction _Pact() {}\n\t_Pact.prototype.then = function(onFulfilled, onRejected) {\n\t\tconst result = new _Pact();\n\t\tconst state = this.s;\n\t\tif (state) {\n\t\t\tconst callback = state & 1 ? onFulfilled : onRejected;\n\t\t\tif (callback) {\n\t\t\t\ttry {\n\t\t\t\t\t_settle(result, 1, callback(this.v));\n\t\t\t\t} catch (e) {\n\t\t\t\t\t_settle(result, 2, e);\n\t\t\t\t}\n\t\t\t\treturn result;\n\t\t\t} else {\n\t\t\t\treturn this;\n\t\t\t}\n\t\t}\n\t\tthis.o = function(_this) {\n\t\t\ttry {\n\t\t\t\tconst value = _this.v;\n\t\t\t\tif (_this.s & 1) {\n\t\t\t\t\t_settle(result, 1, onFulfilled ? onFulfilled(value) : value);\n\t\t\t\t} else if (onRejected) {\n\t\t\t\t\t_settle(result, 1, onRejected(value));\n\t\t\t\t} else {\n\t\t\t\t\t_settle(result, 2, value);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\t_settle(result, 2, e);\n\t\t\t}\n\t\t};\n\t\treturn result;\n\t}\n\treturn _Pact;\n})();\n\n// Settles a pact synchronously\nexport function _settle(pact, state, value) {\n\tif (!pact.s) {\n\t\tif (value instanceof _Pact) {\n\t\t\tif (value.s) {\n\t\t\t\tif (state & 1) {\n\t\t\t\t\tstate = value.s;\n\t\t\t\t}\n\t\t\t\tvalue = value.v;\n\t\t\t} else {\n\t\t\t\tvalue.o = _settle.bind(null, pact, state);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\tif (value && value.then) {\n\t\t\tvalue.then(_settle.bind(null, pact, state), _settle.bind(null, pact, 2));\n\t\t\treturn;\n\t\t}\n\t\tpact.s = state;\n\t\tpact.v = value;\n\t\tconst observer = pact.o;\n\t\tif (observer) {\n\t\t\tobserver(pact);\n\t\t}\n\t}\n}\n\nexport function _isSettledPact(thenable) {\n\treturn thenable instanceof _Pact && thenable.s & 1;\n}\n\n// Converts argument to a function that always returns a Promise\nexport function _async(f) {\n\treturn function() {\n\t\tfor (var args = [], i = 0; i < arguments.length; i++) {\n\t\t\targs[i] = arguments[i];\n\t\t}\n\t\ttry {\n\t\t\treturn Promise.resolve(f.apply(this, args));\n\t\t} catch(e) {\n\t\t\treturn Promise.reject(e);\n\t\t}\n\t}\n}\n\n// Awaits on a value that may or may not be a Promise (equivalent to the await keyword in ES2015, with continuations passed explicitly)\nexport function _await(value, then, direct) {\n\tif (direct) {\n\t\treturn then ? then(value) : value;\n\t}\n\tif (!value || !value.then) {\n\t\tvalue = Promise.resolve(value);\n\t}\n\treturn then ? value.then(then) : value;\n}\n\n// Awaits on a value that may or may not be a Promise, then ignores it\nexport function _awaitIgnored(value, direct) {\n\tif (!direct) {\n\t\treturn value && value.then ? value.then(_empty) : Promise.resolve();\n\t}\n}\n\n// Proceeds after a value has resolved, or proceeds immediately if the value is not thenable\nexport function _continue(value, then) {\n\treturn value && value.then ? value.then(then) : then(value);\n}\n\n// Proceeds after a value has resolved, or proceeds immediately if the value is not thenable\nexport function _continueIgnored(value) {\n\tif (value && value.then) {\n\t\treturn value.then(_empty);\n\t}\n}\n\n// Asynchronously iterate through an object that has a length property, passing the index as the first argument to the callback (even as the length property changes)\nexport function _forTo(array, body, check) {\n\tvar i = -1, pact, reject;\n\tfunction _cycle(result) {\n\t\ttry {\n\t\t\twhile (++i < array.length && (!check || !check())) {\n\t\t\t\tresult = body(i);\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\t\tresult = result.v;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresult.then(_cycle, reject || (reject = _settle.bind(null, pact = new _Pact(), 2)));\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (pact) {\n\t\t\t\t_settle(pact, 1, result);\n\t\t\t} else {\n\t\t\t\tpact = result;\n\t\t\t}\n\t\t} catch (e) {\n\t\t\t_settle(pact || (pact = new _Pact()), 2, e);\n\t\t}\n\t}\n\t_cycle();\n\treturn pact;\n}\n\n// Asynchronously iterate through an object's properties (including properties inherited from the prototype)\n// Uses a snapshot of the object's properties\nexport function _forIn(target, body, check) {\n\tvar keys = [];\n\tfor (var key in target) {\n\t\tkeys.push(key);\n\t}\n\treturn _forTo(keys, function(i) { return body(keys[i]); }, check);\n}\n\n// Asynchronously iterate through an object's own properties (excluding properties inherited from the prototype)\n// Uses a snapshot of the object's properties\nexport function _forOwn(target, body, check) {\n\tvar keys = [];\n\tfor (var key in target) {\n\t\tif (Object.prototype.hasOwnProperty.call(target, key)) {\n\t\t\tkeys.push(key);\n\t\t}\n\t}\n\treturn _forTo(keys, function(i) { return body(keys[i]); }, check);\n}\n\nexport const _iteratorSymbol = /*#__PURE__*/ typeof Symbol !== \"undefined\" ? (Symbol.iterator || (Symbol.iterator = Symbol(\"Symbol.iterator\"))) : \"@@iterator\";\n\n// Asynchronously iterate through an object's values\n// Uses for...of if the runtime supports it, otherwise iterates until length on a copy\nexport function _forOf(target, body, check) {\n\tif (typeof target[_iteratorSymbol] === \"function\") {\n\t\tvar iterator = target[_iteratorSymbol](), step, pact, reject;\n\t\tfunction _cycle(result) {\n\t\t\ttry {\n\t\t\t\twhile (!(step = iterator.next()).done && (!check || !check())) {\n\t\t\t\t\tresult = body(step.value);\n\t\t\t\t\tif (result && result.then) {\n\t\t\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\t\t\tresult = result.v;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tresult.then(_cycle, reject || (reject = _settle.bind(null, pact = new _Pact(), 2)));\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (pact) {\n\t\t\t\t\t_settle(pact, 1, result);\n\t\t\t\t} else {\n\t\t\t\t\tpact = result;\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\t_settle(pact || (pact = new _Pact()), 2, e);\n\t\t\t}\n\t\t}\n\t\t_cycle();\n\t\tif (iterator.return) {\n\t\t\tvar _fixup = function(value) {\n\t\t\t\ttry {\n\t\t\t\t\tif (!step.done) {\n\t\t\t\t\t\titerator.return();\n\t\t\t\t\t}\n\t\t\t\t} catch(e) {\n\t\t\t\t}\n\t\t\t\treturn value;\n\t\t\t}\n\t\t\tif (pact && pact.then) {\n\t\t\t\treturn pact.then(_fixup, function(e) {\n\t\t\t\t\tthrow _fixup(e);\n\t\t\t\t});\n\t\t\t}\n\t\t\t_fixup();\n\t\t}\n\t\treturn pact;\n\t}\n\t// No support for Symbol.iterator\n\tif (!(\"length\" in target)) {\n\t\tthrow new TypeError(\"Object is not iterable\");\n\t}\n\t// Handle live collections properly\n\tvar values = [];\n\tfor (var i = 0; i < target.length; i++) {\n\t\tvalues.push(target[i]);\n\t}\n\treturn _forTo(values, function(i) { return body(values[i]); }, check);\n}\n\nexport const _asyncIteratorSymbol = /*#__PURE__*/ typeof Symbol !== \"undefined\" ? (Symbol.asyncIterator || (Symbol.asyncIterator = Symbol(\"Symbol.asyncIterator\"))) : \"@@asyncIterator\";\n\n// Asynchronously iterate on a value using it's async iterator if present, or its synchronous iterator if missing\nexport function _forAwaitOf(target, body, check) {\n\tif (typeof target[_asyncIteratorSymbol] === \"function\") {\n\t\tvar pact = new _Pact();\n\t\tvar iterator = target[_asyncIteratorSymbol]();\n\t\titerator.next().then(_resumeAfterNext).then(void 0, _reject);\n\t\treturn pact;\n\t\tfunction _resumeAfterBody(result) {\n\t\t\tif (check && check()) {\n\t\t\t\treturn _settle(pact, 1, iterator.return ? iterator.return().then(function() { return result; }) : result);\n\t\t\t}\n\t\t\titerator.next().then(_resumeAfterNext).then(void 0, _reject);\n\t\t}\n\t\tfunction _resumeAfterNext(step) {\n\t\t\tif (step.done) {\n\t\t\t\t_settle(pact, 1);\n\t\t\t} else {\n\t\t\t\tPromise.resolve(body(step.value)).then(_resumeAfterBody).then(void 0, _reject);\n\t\t\t}\n\t\t}\n\t\tfunction _reject(error) {\n\t\t\t_settle(pact, 2, iterator.return ? iterator.return().then(function() { return error; }) : error);\n\t\t}\n\t}\n\treturn Promise.resolve(_forOf(target, function(value) { return Promise.resolve(value).then(body); }, check));\n}\n\n// Asynchronously implement a generic for loop\nexport function _for(test, update, body) {\n\tvar stage;\n\tfor (;;) {\n\t\tvar shouldContinue = test();\n\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\tshouldContinue = shouldContinue.v;\n\t\t}\n\t\tif (!shouldContinue) {\n\t\t\treturn result;\n\t\t}\n\t\tif (shouldContinue.then) {\n\t\t\tstage = 0;\n\t\t\tbreak;\n\t\t}\n\t\tvar result = body();\n\t\tif (result && result.then) {\n\t\t\tif (_isSettledPact(result)) {\n\t\t\t\tresult = result.s;\n\t\t\t} else {\n\t\t\t\tstage = 1;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif (update) {\n\t\t\tvar updateValue = update();\n\t\t\tif (updateValue && updateValue.then && !_isSettledPact(updateValue)) {\n\t\t\t\tstage = 2;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\tvar pact = new _Pact();\n\tvar reject = _settle.bind(null, pact, 2);\n\t(stage === 0 ? shouldContinue.then(_resumeAfterTest) : stage === 1 ? result.then(_resumeAfterBody) : updateValue.then(_resumeAfterUpdate)).then(void 0, reject);\n\treturn pact;\n\tfunction _resumeAfterBody(value) {\n\t\tresult = value;\n\t\tdo {\n\t\t\tif (update) {\n\t\t\t\tupdateValue = update();\n\t\t\t\tif (updateValue && updateValue.then && !_isSettledPact(updateValue)) {\n\t\t\t\t\tupdateValue.then(_resumeAfterUpdate).then(void 0, reject);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tshouldContinue = test();\n\t\t\tif (!shouldContinue || (_isSettledPact(shouldContinue) && !shouldContinue.v)) {\n\t\t\t\t_settle(pact, 1, result);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (shouldContinue.then) {\n\t\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tresult = body();\n\t\t\tif (_isSettledPact(result)) {\n\t\t\t\tresult = result.v;\n\t\t\t}\n\t\t} while (!result || !result.then);\n\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t}\n\tfunction _resumeAfterTest(shouldContinue) {\n\t\tif (shouldContinue) {\n\t\t\tresult = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t} else {\n\t\t\t\t_resumeAfterBody(result);\n\t\t\t}\n\t\t} else {\n\t\t\t_settle(pact, 1, result);\n\t\t}\n\t}\n\tfunction _resumeAfterUpdate() {\n\t\tif (shouldContinue = test()) {\n\t\t\tif (shouldContinue.then) {\n\t\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t} else {\n\t\t\t\t_resumeAfterTest(shouldContinue);\n\t\t\t}\n\t\t} else {\n\t\t\t_settle(pact, 1, result);\n\t\t}\n\t}\n}\n\n// Asynchronously implement a do ... while loop\nexport function _do(body, test) {\n\tvar awaitBody;\n\tdo {\n\t\tvar result = body();\n\t\tif (result && result.then) {\n\t\t\tif (_isSettledPact(result)) {\n\t\t\t\tresult = result.v;\n\t\t\t} else {\n\t\t\t\tawaitBody = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tvar shouldContinue = test();\n\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\tshouldContinue = shouldContinue.v;\n\t\t}\n\t\tif (!shouldContinue) {\n\t\t\treturn result;\n\t\t}\n\t} while (!shouldContinue.then);\n\tconst pact = new _Pact();\n\tconst reject = _settle.bind(null, pact, 2);\n\t(awaitBody ? result.then(_resumeAfterBody) : shouldContinue.then(_resumeAfterTest)).then(void 0, reject);\n\treturn pact;\n\tfunction _resumeAfterBody(value) {\n\t\tresult = value;\n\t\tfor (;;) {\n\t\t\tshouldContinue = test();\n\t\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\t\tshouldContinue = shouldContinue.v;\n\t\t\t}\n\t\t\tif (!shouldContinue) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (shouldContinue.then) {\n\t\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tresult = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\tresult = result.v;\n\t\t\t\t} else {\n\t\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t_settle(pact, 1, result);\n\t}\n\tfunction _resumeAfterTest(shouldContinue) {\n\t\tif (shouldContinue) {\n\t\t\tdo {\n\t\t\t\tresult = body();\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\t\tresult = result.v;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tshouldContinue = test();\n\t\t\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\t\t\tshouldContinue = shouldContinue.v;\n\t\t\t\t}\n\t\t\t\tif (!shouldContinue) {\n\t\t\t\t\t_settle(pact, 1, result);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} while (!shouldContinue.then);\n\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t} else {\n\t\t\t_settle(pact, 1, result);\n\t\t}\n\t}\n}\n\n// Asynchronously implement a switch statement\nexport function _switch(discriminant, cases) {\n\tvar dispatchIndex = -1;\n\tvar awaitBody;\n\touter: {\n\t\tfor (var i = 0; i < cases.length; i++) {\n\t\t\tvar test = cases[i][0];\n\t\t\tif (test) {\n\t\t\t\tvar testValue = test();\n\t\t\t\tif (testValue && testValue.then) {\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\t\t\t\tif (testValue === discriminant) {\n\t\t\t\t\tdispatchIndex = i;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Found the default case, set it as the pending dispatch case\n\t\t\t\tdispatchIndex = i;\n\t\t\t}\n\t\t}\n\t\tif (dispatchIndex !== -1) {\n\t\t\tdo {\n\t\t\t\tvar body = cases[dispatchIndex][1];\n\t\t\t\twhile (!body) {\n\t\t\t\t\tdispatchIndex++;\n\t\t\t\t\tbody = cases[dispatchIndex][1];\n\t\t\t\t}\n\t\t\t\tvar result = body();\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tawaitBody = true;\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\t\t\t\tvar fallthroughCheck = cases[dispatchIndex][2];\n\t\t\t\tdispatchIndex++;\n\t\t\t} while (fallthroughCheck && !fallthroughCheck());\n\t\t\treturn result;\n\t\t}\n\t}\n\tconst pact = new _Pact();\n\tconst reject = _settle.bind(null, pact, 2);\n\t(awaitBody ? result.then(_resumeAfterBody) : testValue.then(_resumeAfterTest)).then(void 0, reject);\n\treturn pact;\n\tfunction _resumeAfterTest(value) {\n\t\tfor (;;) {\n\t\t\tif (value === discriminant) {\n\t\t\t\tdispatchIndex = i;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (++i === cases.length) {\n\t\t\t\tif (dispatchIndex !== -1) {\n\t\t\t\t\tbreak;\n\t\t\t\t} else {\n\t\t\t\t\t_settle(pact, 1, result);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\ttest = cases[i][0];\n\t\t\tif (test) {\n\t\t\t\tvalue = test();\n\t\t\t\tif (value && value.then) {\n\t\t\t\t\tvalue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tdispatchIndex = i;\n\t\t\t}\n\t\t}\n\t\tdo {\n\t\t\tvar body = cases[dispatchIndex][1];\n\t\t\twhile (!body) {\n\t\t\t\tdispatchIndex++;\n\t\t\t\tbody = cases[dispatchIndex][1];\n\t\t\t}\n\t\t\tvar result = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar fallthroughCheck = cases[dispatchIndex][2];\n\t\t\tdispatchIndex++;\n\t\t} while (fallthroughCheck && !fallthroughCheck());\n\t\t_settle(pact, 1, result);\n\t}\n\tfunction _resumeAfterBody(result) {\n\t\tfor (;;) {\n\t\t\tvar fallthroughCheck = cases[dispatchIndex][2];\n\t\t\tif (!fallthroughCheck || fallthroughCheck()) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tdispatchIndex++;\n\t\t\tvar body = cases[dispatchIndex][1];\n\t\t\twhile (!body) {\n\t\t\t\tdispatchIndex++;\n\t\t\t\tbody = cases[dispatchIndex][1];\n\t\t\t}\n\t\t\tresult = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\t_settle(pact, 1, result);\n\t}\n}\n\n// Asynchronously call a function and pass the result to explicitly passed continuations\nexport function _call(body, then, direct) {\n\tif (direct) {\n\t\treturn then ? then(body()) : body();\n\t}\n\ttry {\n\t\tvar result = Promise.resolve(body());\n\t\treturn then ? result.then(then) : result;\n\t} catch (e) {\n\t\treturn Promise.reject(e);\n\t}\n}\n\n// Asynchronously call a function and swallow the result\nexport function _callIgnored(body, direct) {\n\treturn _call(body, _empty, direct);\n}\n\n// Asynchronously call a function and pass the result to explicitly passed continuations\nexport function _invoke(body, then) {\n\tvar result = body();\n\tif (result && result.then) {\n\t\treturn result.then(then);\n\t}\n\treturn then(result);\n}\n\n// Asynchronously call a function and swallow the result\nexport function _invokeIgnored(body) {\n\tvar result = body();\n\tif (result && result.then) {\n\t\treturn result.then(_empty);\n\t}\n}\n\n// Asynchronously call a function and send errors to recovery continuation\nexport function _catch(body, recover) {\n\ttry {\n\t\tvar result = body();\n\t} catch(e) {\n\t\treturn recover(e);\n\t}\n\tif (result && result.then) {\n\t\treturn result.then(void 0, recover);\n\t}\n\treturn result;\n}\n\n// Asynchronously await a promise and pass the result to a finally continuation\nexport function _finallyRethrows(body, finalizer) {\n\ttry {\n\t\tvar result = body();\n\t} catch (e) {\n\t\treturn finalizer(true, e);\n\t}\n\tif (result && result.then) {\n\t\treturn result.then(finalizer.bind(null, false), finalizer.bind(null, true));\n\t}\n\treturn finalizer(false, result);\n}\n\n// Asynchronously await a promise and invoke a finally continuation that always overrides the result\nexport function _finally(body, finalizer) {\n\ttry {\n\t\tvar result = body();\n\t} catch (e) {\n\t\treturn finalizer();\n\t}\n\tif (result && result.then) {\n\t\treturn result.then(finalizer, finalizer);\n\t}\n\treturn finalizer();\n}\n\n// Rethrow or return a value from a finally continuation\nexport function _rethrow(thrown, value) {\n\tif (thrown)\n\t\tthrow value;\n\treturn value;\n}\n\n// Empty function to implement break and other control flow that ignores asynchronous results\nexport function _empty() {\n}\n\n// Sentinel value for early returns in generators \nexport const _earlyReturn = /*#__PURE__*/ {};\n\n// Asynchronously call a function and send errors to recovery continuation, skipping early returns\nexport function _catchInGenerator(body, recover) {\n\treturn _catch(body, function(e) {\n\t\tif (e === _earlyReturn) {\n\t\t\tthrow e;\n\t\t}\n\t\treturn recover(e);\n\t});\n}\n\n// Asynchronous generator class; accepts the entrypoint of the generator, to which it passes itself when the generator should start\nexport const _AsyncGenerator = /*#__PURE__*/(function() {\n\tfunction _AsyncGenerator(entry) {\n\t\tthis._entry = entry;\n\t\tthis._pact = null;\n\t\tthis._resolve = null;\n\t\tthis._return = null;\n\t\tthis._promise = null;\n\t}\n\n\tfunction _wrapReturnedValue(value) {\n\t\treturn { value: value, done: true };\n\t}\n\tfunction _wrapYieldedValue(value) {\n\t\treturn { value: value, done: false };\n\t}\n\n\t_AsyncGenerator.prototype._yield = function(value) {\n\t\t// Yield the value to the pending next call\n\t\tthis._resolve(value && value.then ? value.then(_wrapYieldedValue) : _wrapYieldedValue(value));\n\t\t// Return a pact for an upcoming next/return/throw call\n\t\treturn this._pact = new _Pact();\n\t};\n\t_AsyncGenerator.prototype.next = function(value) {\n\t\t// Advance the generator, starting it if it has yet to be started\n\t\tconst _this = this;\n\t\treturn _this._promise = new Promise(function (resolve) {\n\t\t\tconst _pact = _this._pact;\n\t\t\tif (_pact === null) {\n\t\t\t\tconst _entry = _this._entry;\n\t\t\t\tif (_entry === null) {\n\t\t\t\t\t// Generator is started, but not awaiting a yield expression\n\t\t\t\t\t// Abandon the next call!\n\t\t\t\t\treturn resolve(_this._promise);\n\t\t\t\t}\n\t\t\t\t// Start the generator\n\t\t\t\t_this._entry = null;\n\t\t\t\t_this._resolve = resolve;\n\t\t\t\tfunction returnValue(value) {\n\t\t\t\t\t_this._resolve(value && value.then ? value.then(_wrapReturnedValue) : _wrapReturnedValue(value));\n\t\t\t\t\t_this._pact = null;\n\t\t\t\t\t_this._resolve = null;\n\t\t\t\t}\n\t\t\t\tvar result = _entry(_this);\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tresult.then(returnValue, function(error) {\n\t\t\t\t\t\tif (error === _earlyReturn) {\n\t\t\t\t\t\t\treturnValue(_this._return);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconst pact = new _Pact();\n\t\t\t\t\t\t\t_this._resolve(pact);\n\t\t\t\t\t\t\t_this._pact = null;\n\t\t\t\t\t\t\t_this._resolve = null;\n\t\t\t\t\t\t\t_resolve(pact, 2, error);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\treturnValue(result);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Generator is started and a yield expression is pending, settle it\n\t\t\t\t_this._pact = null;\n\t\t\t\t_this._resolve = resolve;\n\t\t\t\t_settle(_pact, 1, value);\n\t\t\t}\n\t\t});\n\t};\n\t_AsyncGenerator.prototype.return = function(value) {\n\t\t// Early return from the generator if started, otherwise abandons the generator\n\t\tconst _this = this;\n\t\treturn _this._promise = new Promise(function (resolve) {\n\t\t\tconst _pact = _this._pact;\n\t\t\tif (_pact === null) {\n\t\t\t\tif (_this._entry === null) {\n\t\t\t\t\t// Generator is started, but not awaiting a yield expression\n\t\t\t\t\t// Abandon the return call!\n\t\t\t\t\treturn resolve(_this._promise);\n\t\t\t\t}\n\t\t\t\t// Generator is not started, abandon it and return the specified value\n\t\t\t\t_this._entry = null;\n\t\t\t\treturn resolve(value && value.then ? value.then(_wrapReturnedValue) : _wrapReturnedValue(value));\n\t\t\t}\n\t\t\t// Settle the yield expression with a rejected \"early return\" value\n\t\t\t_this._return = value;\n\t\t\t_this._resolve = resolve;\n\t\t\t_this._pact = null;\n\t\t\t_settle(_pact, 2, _earlyReturn);\n\t\t});\n\t};\n\t_AsyncGenerator.prototype.throw = function(error) {\n\t\t// Inject an exception into the pending yield expression\n\t\tconst _this = this;\n\t\treturn _this._promise = new Promise(function (resolve, reject) {\n\t\t\tconst _pact = _this._pact;\n\t\t\tif (_pact === null) {\n\t\t\t\tif (_this._entry === null) {\n\t\t\t\t\t// Generator is started, but not awaiting a yield expression\n\t\t\t\t\t// Abandon the throw call!\n\t\t\t\t\treturn resolve(_this._promise);\n\t\t\t\t}\n\t\t\t\t// Generator is not started, abandon it and return a rejected Promise containing the error\n\t\t\t\t_this._entry = null;\n\t\t\t\treturn reject(error);\n\t\t\t}\n\t\t\t// Settle the yield expression with the value as a rejection\n\t\t\t_this._resolve = resolve;\n\t\t\t_this._pact = null;\n\t\t\t_settle(_pact, 2, error);\n\t\t});\n\t};\n\n\t_AsyncGenerator.prototype[_asyncIteratorSymbol] = function() {\n\t\treturn this;\n\t};\n\t\n\treturn _AsyncGenerator;\n})();\n","import {\n  ECPair,\n  Psbt,\n  confidential,\n  address,\n  payments,\n  Network,\n  Transaction,\n  ECPairInterface,\n} from 'liquidjs-lib';\nimport * as bip39 from 'bip39';\nimport * as bip32 from 'bip32';\nimport { toAssetHash, isValidBlindingKey } from '../helpers';\nconst fetch = window.fetch;\n\nexport const EXPLORER_URL = {\n  liquid: 'https://blockstream.info/liquid/api',\n  regtest: 'https://nigiri.network/liquid/api',\n};\n\ninterface UtxoInterface {\n  txid: string;\n  vout: number;\n  asset: string;\n  value: number;\n  script?: string;\n  partialSig?: Array<any>;\n  sighashType?: number;\n}\n\nexport default class LiquidWallet {\n  scriptPubKey: string;\n  blindingKey?: string;\n  address: string;\n  network: Network;\n\n  constructor(identity: string, network: Network, blindingKey?: string) {\n    try {\n      address.toOutputScript(identity, network);\n      if (blindingKey && !isValidBlindingKey)\n        throw new Error('Invalid blinding key');\n    } catch (ignore) {\n      throw new Error('Invalid address');\n    }\n\n    const payOpts = blindingKey\n      ? { confidentialAddress: identity }\n      : { address: identity };\n    const payment = payments.p2wpkh({ ...payOpts, network });\n    this.scriptPubKey = payment.output!.toString('hex');\n    this.address = payment.address!;\n    this.network = network;\n    this.blindingKey = blindingKey;\n  }\n\n  static createTx(): string {\n    const psbt = new Psbt();\n    return psbt.toBase64();\n  }\n\n  static isValidMnemonic(m: string): boolean {\n    return bip39.validateMnemonic(m);\n  }\n\n  static isValidWIF(wif: string, network: Network): boolean {\n    try {\n      ECPair.fromWIF(wif, network);\n      return true;\n    } catch (e) {\n      return false;\n    }\n  }\n\n  decodeTx(psbtBase64: string): any {\n    let psbt: Psbt;\n    try {\n      psbt = Psbt.fromBase64(psbtBase64);\n    } catch (ignore) {\n      throw new Error('Invalid psbt');\n    }\n\n    const bufferTx: Buffer = psbt.data.globalMap.unsignedTx.toBuffer();\n    const transaction: Transaction = Transaction.fromBuffer(bufferTx);\n\n    let inputs: Array<UtxoInterface> = [],\n      outputs: Array<any> = [];\n\n    psbt.data.inputs.forEach((i, index) => {\n      const txid = transaction.ins[index].hash.reverse().toString('hex');\n      const vout = transaction.ins[index].index;\n      const script = i.witnessUtxo!.script.toString('hex');\n      const value = confidential.confidentialValueToSatoshi(\n        i.witnessUtxo?.value!\n      );\n      const asset = toAssetHash(i.witnessUtxo?.asset!);\n      const partialSig = i.partialSig;\n      const sighashType = i.sighashType;\n\n      inputs.push({\n        txid,\n        vout,\n        value,\n        asset,\n        script,\n        partialSig,\n        sighashType,\n      });\n    });\n\n    transaction.outs.forEach(o => {\n      const asset = toAssetHash(o.asset);\n      const value = confidential.confidentialValueToSatoshi(o.value);\n\n      const addr = o.script.equals(Buffer.alloc(0))\n        ? 'LBTC_FEES'\n        : address.fromOutputScript(o.script, this.network);\n\n      outputs.push({\n        asset,\n        value,\n        address: addr,\n      });\n    });\n\n    return {\n      inputs,\n      outputs,\n    };\n  }\n\n  updateTx(\n    psbtBase64: string,\n    inputs: Array<UtxoInterface>,\n    outputs: Array<any>\n  ): string {\n    let psbt: Psbt;\n    try {\n      psbt = Psbt.fromBase64(psbtBase64);\n    } catch (ignore) {\n      throw new Error('Invalid psbt');\n    }\n\n    inputs.forEach((i: UtxoInterface) =>\n      psbt.addInput({\n        hash: i.txid,\n        index: i.vout,\n        witnessUtxo: {\n          script: i.script\n            ? Buffer.from(i.script, 'hex')\n            : Buffer.from(this.scriptPubKey, 'hex'),\n          asset: Buffer.concat([\n            Buffer.from('01', 'hex'), //prefix for unconfidential asset\n            Buffer.from(i.asset, 'hex').reverse(),\n          ]),\n          value: confidential.satoshiToConfidentialValue(Number(i.value)),\n          nonce: Buffer.from('00', 'hex'),\n        },\n        partialSig: i.partialSig || [],\n        sighashType: i.sighashType || Transaction.SIGHASH_ALL,\n      })\n    );\n\n    outputs.forEach(o => {\n      const script =\n        o.address === 'LBTC_FEES'\n          ? Buffer.alloc(0)\n          : address.toOutputScript(o.address, this.network);\n\n      psbt.addOutput({\n        script: script,\n        asset: Buffer.concat([\n          Buffer.from('01', 'hex'), //prefix for unconfidential asset\n          Buffer.from(o.asset, 'hex').reverse(),\n        ]),\n        value: confidential.satoshiToConfidentialValue(Number(o.value)),\n        nonce: Buffer.from('00', 'hex'),\n      } as any);\n    });\n\n    return psbt.toBase64();\n  }\n\n  signPsbtWithMnemonic(psbtBase64: string, mnemonic: string) {\n    const seed = bip39.mnemonicToSeedSync(mnemonic!);\n    const root = bip32.fromSeed(seed, this.network);\n    const node = root.derivePath(\"m/84'/0'/0'/0\");\n    const keyPair = ECPair.fromWIF(node.toWIF(), this.network);\n    const decoded = Psbt.fromBase64(psbtBase64);\n    return this.sign(decoded, keyPair);\n  }\n\n  signPsbtWithPrivateKey(psbtBase64: string, wif: string) {\n    const keyPair = ECPair.fromWIF(wif, this.network);\n    const decoded = Psbt.fromBase64(psbtBase64);\n    return this.sign(decoded, keyPair);\n  }\n\n  private sign(psbt: Psbt, keyPair: ECPairInterface) {\n    const signedPsbt = this.partiallySign(psbt, keyPair);\n\n    const hex = signedPsbt.extractTransaction().toHex();\n    return hex;\n  }\n\n  private partiallySign(psbt: Psbt, keyPair: ECPairInterface) {\n    psbt.data.inputs.forEach((input: any, index: number) => {\n      if (input.partialSig && input.partialSig.length > 0) {\n        psbt.validateSignaturesOfInput(index);\n        psbt.finalizeInput(index);\n        return;\n      }\n\n      try {\n        psbt.signInput(index, keyPair);\n        psbt.validateSignaturesOfInput(index);\n        psbt.finalizeInput(index);\n      } catch (ignore) {\n        console.warn(ignore);\n      }\n    });\n\n    return psbt;\n  }\n}\n\nexport function fetchUtxos(address: string, url: string): Promise<any> {\n  return fetch(`${url}/address/${address}/utxo`).then(r => r.json());\n}\n\nexport async function unblindUtxos(\n  utxos: Array<any>,\n  blindingKey: string,\n  url: string\n) {\n  const promises = utxos.map(utxo =>\n    fetch(`${url}/tx/${utxo.txid}/hex`)\n      .then(r => r.text())\n      .then((txHex: string) => {\n        const prevTx = Transaction.fromHex(txHex);\n        const prevOut = prevTx.outs[utxo.vout];\n        return { prevOut, utxo };\n      })\n  );\n  try {\n    const prevOuts = await Promise.all(promises);\n    const unblinds = prevOuts.map((po: any) => {\n      const { prevOut, utxo } = po;\n      const result = confidential.unblindOutput(\n        prevOut.nonce,\n        Buffer.from(blindingKey, 'hex'),\n        prevOut.rangeProof!,\n        prevOut.value,\n        prevOut.asset,\n        prevOut.script\n      );\n      const assetHash = result.asset.reverse().toString('hex');\n      return { ...result, asset: assetHash, txid: utxo.txid, vout: utxo.vout };\n    });\n    return unblinds;\n  } catch (e) {\n    throw e;\n  }\n}\n\nexport function faucet(address: string, url: string): Promise<any> {\n  return fetch(`${url}/faucet`, {\n    method: 'POST',\n    mode: 'no-cors',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify({ address }),\n  });\n}\n\nexport function mint(\n  address: string,\n  quantity: number,\n  url: string\n): Promise<any> {\n  return fetch(`${url}/mint`, {\n    method: 'POST',\n    mode: 'no-cors',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify({ address, quantity }),\n  });\n}\nexport async function fetchBalances(\n  address: string,\n  url: string,\n  blindingKey?: string\n): Promise<any> {\n  let fetchedData = (await fetchUtxos(address, url)).map((utxo: any) => {\n    return utxo;\n  });\n\n  if (blindingKey && isValidBlindingKey(blindingKey)) {\n    fetchedData = await unblindUtxos(fetchedData, blindingKey, url);\n  }\n\n  const balances = fetchedData.reduce(\n    (storage: { [x: string]: any }, item: { [x: string]: any; value: any }) => {\n      // get the first instance of the key by which we're grouping\n      var group = item['asset'];\n\n      // set `storage` for this instance of group to the outer scope (if not empty) or initialize it\n      storage[group] = storage[group] || 0;\n\n      // add this item to its group within `storage`\n      storage[group] += item.value;\n\n      // return the updated storage to the reduce function, which will then loop through the next\n      return storage;\n    },\n    {}\n  ); // {} is the initial value of the storage\n\n  const utxos = fetchedData.reduce(\n    (storage: { [x: string]: any }, item: { [x: string]: any; value: any }) => {\n      // get the first instance of the key by which we're grouping\n      var group = item['asset'];\n\n      // set `storage` for this instance of group to the outer scope (if not empty) or initialize it\n      storage[group] = storage[group] || [];\n\n      // add this item to its group within `storage`\n      storage[group].push(item);\n\n      // return the updated storage to the reduce function, which will then loop through the next\n      return storage;\n    },\n    {}\n  ); // {} is the initial value of the storage\n\n  return {\n    balances,\n    utxos,\n  };\n}\n","import React, { useState } from 'react';\nimport { networks } from 'liquidjs-lib';\n\nimport Update from './UpdateTx';\nimport Wallet from '../wallet';\nimport InputWithCopy from '../elements/InputWithCopy';\n\ninterface Props {\n  identity: string;\n  blindingKey?: string;\n  network: string;\n  utxos: Object;\n  lbtc: string;\n}\n\nconst Create: React.FunctionComponent<Props> = props => {\n  const { identity, network, lbtc, utxos, blindingKey } = props;\n\n  const currentNetwork = (networks as any)[network];\n  const wallet = new Wallet(identity, currentNetwork, blindingKey);\n\n  const [encoded, setEncoded] = useState('');\n\n  const onEncode = (inputs: any[], outputs: any[]) => {\n    const emptyPsbt = Wallet.createTx();\n    const psbt = wallet.updateTx(emptyPsbt, inputs, outputs);\n    setEncoded(psbt);\n  };\n\n  const onSign = () => {\n    if (encoded.length === 0)\n      return alert('Encode the transaction on every change before signing');\n\n    const mnemonicOrWif = prompt('Enter your mnemonic or WIF private key');\n    if (Wallet.isValidMnemonic(mnemonicOrWif!)) {\n      try {\n        const hex = wallet.signPsbtWithMnemonic(encoded, mnemonicOrWif!);\n        setEncoded(hex);\n        return;\n      } catch (ignore) {\n        return alert(ignore);\n      }\n    }\n\n    if (Wallet.isValidWIF(mnemonicOrWif!, currentNetwork)) {\n      try {\n        const hex = wallet.signPsbtWithPrivateKey(encoded, mnemonicOrWif!);\n        setEncoded(hex);\n        return;\n      } catch (ignore) {\n        return alert(ignore);\n      }\n    }\n\n    return alert('Mnemonic or WIF not valid');\n  };\n\n  return (\n    <div>\n      <Update\n        network={network}\n        lbtc={lbtc}\n        utxos={utxos}\n        inputs={[]}\n        outputs={[]}\n        onEncode={onEncode}\n        onSign={onSign}\n      />\n      {encoded.length > 0 && (\n        <div className=\"box\">\n          {' '}\n          <InputWithCopy value={encoded} />{' '}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Create;\n","import React, { useRef, useState } from 'react';\nimport { networks } from 'liquidjs-lib';\n\nimport Update from './UpdateTx';\nimport Wallet from '../wallet';\nimport InputWithCopy from '../elements/InputWithCopy';\n\ninterface Props {\n  identity: string;\n  blindingKey?: string;\n  network: string;\n  utxos: Object;\n  lbtc: string;\n}\n\nconst Decode: React.FunctionComponent<Props> = props => {\n  const { identity, network, lbtc, utxos, blindingKey } = props;\n\n  const currentNetwork = (networks as any)[network];\n  const wallet = new Wallet(identity, currentNetwork, blindingKey);\n\n  const [state, setState] = useState({\n    hasBeenDecoded: false,\n    inputs: [],\n    outputs: [],\n  });\n  const [encoded, setEncoded] = useState('');\n  const psbtInput = useRef(null);\n\n  const onDecodeClick = (e: any) => {\n    e.preventDefault();\n    const { inputs, outputs } = wallet.decodeTx(\n      (psbtInput.current! as any).value\n    );\n    setState({\n      hasBeenDecoded: true,\n      inputs,\n      outputs,\n    });\n  };\n\n  const onEncode = (inputs: any[], outputs: any[]) => {\n    const emptyPsbt = Wallet.createTx();\n    const psbt = wallet.updateTx(emptyPsbt, inputs, outputs);\n    setEncoded(psbt);\n  };\n\n  const onSign = () => {\n    if (encoded.length === 0)\n      return alert('Encode the transaction on every change before signing');\n\n    const mnemonicOrWif = prompt('Enter your mnemonic or WIF private key');\n    if (Wallet.isValidMnemonic(mnemonicOrWif!)) {\n      try {\n        const hex = wallet.signPsbtWithMnemonic(encoded, mnemonicOrWif!);\n        setEncoded(hex);\n        return;\n      } catch (ignore) {\n        return alert(ignore);\n      }\n    }\n\n    if (Wallet.isValidWIF(mnemonicOrWif!, currentNetwork)) {\n      try {\n        const hex = wallet.signPsbtWithPrivateKey(encoded, mnemonicOrWif!);\n        setEncoded(hex);\n        return;\n      } catch (ignore) {\n        return alert(ignore);\n      }\n    }\n\n    return alert('Mnemonic or WIF not valid');\n  };\n\n  return (\n    <div>\n      <div className=\"field has-addons\">\n        <input\n          type=\"text\"\n          ref={psbtInput}\n          className=\"input is-medium\"\n          placeholder=\"Your base64 encoded PSBT here...\"\n        />\n        <button className=\"button is-link is-medium\" onClick={onDecodeClick}>\n          Decode\n        </button>\n      </div>\n\n      {state.hasBeenDecoded && (\n        <Update\n          network={network}\n          lbtc={lbtc}\n          utxos={utxos}\n          inputs={state.inputs}\n          outputs={state.outputs}\n          onEncode={onEncode}\n          onSign={onSign}\n        />\n      )}\n\n      {encoded.length > 0 && (\n        <div className=\"box\">\n          {' '}\n          <InputWithCopy value={encoded} />{' '}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Decode;\n","import React from 'react';\n\ninterface Props {\n  asset: string;\n  balance: number;\n}\n\nconst Circle: React.FunctionComponent<Props> = props => {\n  return (\n    <div\n      className=\"hero box is-inline-block has-background-link\"\n      style={{\n        borderRadius: '50%',\n        height: '250px',\n        width: '250px',\n        margin: '2rem',\n      }}\n    >\n      <div className=\"hero-body\">\n        <div className=\"container\">\n          <p className=\"subtitle is-5 has-text-white\"> {props.asset}</p>\n          <h1 className=\"title is-2 has-text-white\">\n            {' '}\n            {props.balance.toLocaleString('en-US', {\n              minimumFractionDigits: 0,\n              maximumFractionDigits: 8,\n            })}{' '}\n          </h1>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Circle;\n","import React from 'react';\n\nimport Circle from './Circle';\nimport { toHumanFriendlyString, fromSatoshi } from '../helpers';\n\ninterface Props {\n  balances: any;\n  lbtc: string;\n}\n\nconst Balances: React.FunctionComponent<Props> = props => {\n  return (\n    <div>\n      <p className=\"subtitle is-4\">Balances</p>\n      <div className=\"buttons is-centered\">\n        {Object.entries(props.balances).map(\n          ([assetHash, balanceInSatoshis]: [string, any], index: number) => {\n            let asset: string;\n            if (assetHash === props.lbtc) asset = 'L-BTC';\n            else asset = toHumanFriendlyString(assetHash);\n\n            return (\n              <Circle\n                key={index}\n                balance={fromSatoshi(balanceInSatoshis)}\n                asset={asset}\n              />\n            );\n          }\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Balances;\n","import React from 'react';\n\ninterface Props {}\n\nconst Spinner: React.FunctionComponent<Props> = () => (\n  <section className=\"section\">\n    <div className=\"buttons is-centered\">\n      <span className=\"loader\"></span>\n    </div>\n  </section>\n);\n\nexport default Spinner;\n","import React from 'react';\n\nimport Create from './CreateTx';\nimport Decode from './DecodeTx';\n\nimport Balances from '../elements/Balances';\nimport Spinner from '../elements/Spinner';\n\nimport { fetchBalances, faucet, EXPLORER_URL, mint } from '../wallet';\nimport { networks, address } from 'liquidjs-lib';\nimport TextWithCopy from '../elements/TextWithCopy';\n\ninterface Props {\n  identity: string;\n  network: string;\n  explorerUrl?: string;\n  blindingKey?: string;\n}\n\ninterface State {\n  showCreate: Boolean;\n  showImport: Boolean;\n  hasBalances: Boolean;\n  isLoading: Boolean;\n  utxos: any;\n  balances: any;\n}\n\nexport default class Wallet extends React.Component<Props, State> {\n  state = {\n    showCreate: false,\n    showImport: false,\n    hasBalances: false,\n    balances: {},\n    utxos: {},\n    isLoading: true,\n  };\n\n  componentDidMount() {\n    this.getBalances();\n  }\n\n  getBalances = () => {\n    this.setState({ isLoading: true });\n\n    const { identity, network, explorerUrl, blindingKey } = this.props;\n    fetchBalances(\n      identity,\n      explorerUrl || (EXPLORER_URL as any)[network],\n      blindingKey\n    )\n      .then((data: any) => {\n        if (Object.keys(data.utxos).length > 0)\n          this.setState({\n            balances: data.balances,\n            utxos: data.utxos,\n            hasBalances: true,\n            isLoading: false,\n          });\n        else this.setState({ isLoading: false });\n\n        return;\n      })\n      .catch(e => {\n        console.error(e);\n        alert('Something went wrong. Explorer may be down');\n        this.setState({ isLoading: false });\n      });\n  };\n\n  callFaucet = () => {\n    this.setState({ isLoading: true });\n\n    faucet(this.props.identity, this.props.explorerUrl || EXPLORER_URL.regtest)\n      .then(() => {\n        return this.getBalances();\n      })\n      .catch(e => {\n        console.error(e);\n        alert('Something went wrong. Explorer may be down');\n        this.setState({ isLoading: false });\n      });\n  };\n\n  callMint = () => {\n    this.setState({ isLoading: true });\n\n    const qtyString = prompt('How many asset you want to issue?');\n\n    if (!qtyString || isNaN(Number(qtyString))) {\n      alert('You need to pass a valid amount');\n      this.setState({ isLoading: false });\n      return;\n    }\n\n    mint(\n      this.props.identity,\n      Number(qtyString),\n      this.props.explorerUrl || EXPLORER_URL.regtest\n    )\n      .then(() => {\n        return this.getBalances();\n      })\n      .catch(e => {\n        console.error(e);\n        alert('Something went wrong. Explorer may be down');\n        this.setState({ isLoading: false });\n      });\n  };\n\n  render() {\n    const { network, identity, blindingKey } = this.props;\n    const {\n      showCreate,\n      showImport,\n      balances,\n      hasBalances,\n      isLoading,\n      utxos,\n    } = this.state;\n\n    const LBTC_ASSET_HASH = (networks as any)[network].assetHash;\n    const isRegtest = network === 'regtest';\n\n    return (\n      <div className=\"column has-text-centered\">\n        <TextWithCopy value={identity} textClass=\"title is-5\" />\n\n        {blindingKey && (\n          <span>\n            <br />\n            <p className=\"title is-6\">UNCONFIDENTIAL</p>\n            <TextWithCopy\n              value={address.fromConfidential(identity).unconfidentialAddress}\n              textClass=\"title is-5\"\n            />\n            <br />\n            <br />\n          </span>\n        )}\n\n        {!isLoading && hasBalances && (\n          <Balances balances={balances} lbtc={LBTC_ASSET_HASH} />\n        )}\n        <br />\n        {!isLoading && !hasBalances && (\n          <p className=\"subtitle is-6\">\n            {' '}\n            You don't have any unspent output. Your balances will appear here.{' '}\n          </p>\n        )}\n\n        {isRegtest && !hasBalances && !isLoading && (\n          <button className=\"button is-link\" onClick={this.callFaucet}>\n            <span role=\"img\" aria-label=\"create\">\n              🚰\n            </span>{' '}\n            Faucet\n          </button>\n        )}\n\n        {isRegtest && !isLoading && (\n          <button className=\"button is-link\" onClick={this.callMint}>\n            <span role=\"img\" aria-label=\"create\">\n              💸\n            </span>{' '}\n            Mint\n          </button>\n        )}\n\n        {!hasBalances && !isLoading && (\n          <button className=\"button\" onClick={this.getBalances}>\n            <span role=\"img\" aria-label=\"create\">\n              ♻\n            </span>{' '}\n            Reload\n          </button>\n        )}\n\n        {isLoading && <Spinner />}\n\n        {hasBalances && (\n          <section className=\"section\">\n            <p className=\"subtitle is-4\">Transaction</p>\n            <button\n              className={`button is-large ${!isLoading &&\n                showCreate &&\n                `is-link`}`}\n              onClick={() =>\n                this.setState({\n                  showCreate: true,\n                  showImport: false,\n                })\n              }\n            >\n              <span role=\"img\" aria-label=\"create\">\n                🛠\n              </span>{' '}\n              Create\n            </button>\n            <button\n              className={`button is-large ${!isLoading &&\n                showImport &&\n                `is-link`}`}\n              onClick={() =>\n                this.setState({\n                  showImport: true,\n                  showCreate: false,\n                })\n              }\n            >\n              <span role=\"img\" aria-label=\"import\">\n                📀\n              </span>{' '}\n              Import\n            </button>\n          </section>\n        )}\n        {!isLoading && showCreate && (\n          <Create\n            utxos={utxos}\n            lbtc={LBTC_ASSET_HASH}\n            identity={identity}\n            network={network}\n            blindingKey={blindingKey}\n          />\n        )}\n        {!isLoading && showImport && (\n          <Decode\n            utxos={utxos}\n            lbtc={LBTC_ASSET_HASH}\n            identity={identity}\n            network={network}\n            blindingKey={blindingKey}\n          />\n        )}\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport Layout from './components/Layout';\nimport Load from './components/Load';\nimport Wallet from './components/Wallet';\nimport useGlobalStorage from 'use-global-storage';\n\ninterface Props {}\n\nconst App: React.FunctionComponent<Props> = () => {\n  const useStorage = useGlobalStorage({\n    storageOptions: { name: 'liquid-coach-db' },\n  });\n\n  const [state, setState] = useStorage('state', null);\n\n  return (\n    <div>\n      <Layout\n        title=\"🏋️‍♂️ Liquid.Coach\"\n        showExplorer={!state}\n        onExplorer={(explorer: string) => {\n          setState({\n            explorerUrl: explorer,\n          });\n        }}\n        onClean={() => {\n          setState(null);\n        }}\n      >\n        <div className=\"container\">\n          <div className=\"container\">\n            <div className=\"columns\">\n              {!state || !state.loaded ? (\n                <Load\n                  onLoad={(\n                    xpubOrAddress: string,\n                    selectedNetwork: any,\n                    blindingPrivKey: string\n                  ) => {\n                    setState({\n                      loaded: true,\n                      identity: xpubOrAddress,\n                      network: selectedNetwork,\n                      blindingKey: blindingPrivKey,\n                      ...state,\n                    });\n                  }}\n                />\n              ) : (\n                <Wallet\n                  identity={state.identity}\n                  network={state.network}\n                  blindingKey={\n                    state.blindingKey && state.blindingKey.length > 0\n                      ? state.blindingKey\n                      : undefined\n                  }\n                  explorerUrl={state.explorerUrl}\n                />\n              )}\n            </div>\n          </div>\n        </div>\n      </Layout>\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"names":["Layout","changeUrl","errorMsg","url","prompt","length","Error","URL","includes","props","onExplorer","ignore","alert","render","withCleanButton","onClean","React","className","onClick","withExplorer","showExplorer","withTitle","title","style","minHeight","position","paddingTop","paddingRight","paddingLeft","paddingBottom","children","bottom","height","width","display","justifyContent","alignItems","href","target","rel","Component","InputWithCopy","useState","copySuccess","setCopySuccess","copy","copyToClipboard","value","bgColor","prefixes","Map","changeVersionBytes","xpub","targetFormat","has","trim","data","b58","decode","slice","Buffer","concat","from","get","encode","err","isValidAddress","network","address","toOutputScript","e","isValidBlindingKey","ECPair","fromPrivateKey","isValidConfidentialAddress","fromConfidential","validate","type","networks","regtest","console","error","confidential","satoshiToConfidentialValue","Number","toHumanFriendlyString","x","previewLength","previewPrefix","substring","previewSuffix","fromSatoshi","Math","floor","pow","toAssetHash","withoutFirstByte","reverse","toString","Load","isLiquid","setIsLiquid","showConfirm","setShowConfirm","showBlinding","setShowBlinding","blindingPubkey","setBlindingPubkey","pubkey","useRef","blindingPrivKey","networkString","currentNetwork","onAddressInputChange","blindingKey","checkInput","current","pub","blinding","blindKeyPair","publicKey","onLoad","confirmModal","mnemonic","bip39","seed","root","bip32","toBase58","version","extPub","node","derivePath","wpkh","payments","p2wpkh","checked","onChange","ref","placeholder","TextWithCopy","setTimeout","textClass","label","Update","utxosByAsset","utxos","lbtc","inputAssetIndex","setInputAssetIndex","utxoIndex","setUtxoIndex","inputs","setInputs","outputs","setOutputs","assets","Object","keys","addInput","preventDefault","is","onAssetChange","onUtxoChange","useForm","register","handleSubmit","errors","setError","addOutput","amount","asset","os","removeInput","index","filter","_o","i","removeOutput","addFeeOutput","isNaN","map","a","key","u","txid","visibility","role","borderColor","onSubmit","name","required","o","onEncode","onSign","fetchBalances","fetchUtxos","balances","fetchedData","reduce","storage","item","group","push","utxo","unblindUtxos","promises","fetch","then","r","text","txHex","prevTx","Transaction","fromHex","prevOut","outs","vout","Promise","all","prevOuts","unblinds","po","result","unblindOutput","nonce","rangeProof","script","assetHash","window","EXPLORER_URL","liquid","LiquidWallet","identity","payOpts","confidentialAddress","payment","scriptPubKey","output","createTx","psbt","Psbt","toBase64","isValidMnemonic","m","isValidWIF","wif","fromWIF","decodeTx","psbtBase64","fromBase64","bufferTx","globalMap","unsignedTx","toBuffer","transaction","fromBuffer","forEach","ins","hash","witnessUtxo","confidentialValueToSatoshi","partialSig","sighashType","addr","equals","alloc","fromOutputScript","updateTx","SIGHASH_ALL","signPsbtWithMnemonic","keyPair","toWIF","decoded","sign","signPsbtWithPrivateKey","signedPsbt","partiallySign","hex","extractTransaction","toHex","input","validateSignaturesOfInput","finalizeInput","signInput","warn","json","faucet","method","mode","headers","body","JSON","stringify","mint","quantity","Create","wallet","Wallet","encoded","setEncoded","emptyPsbt","mnemonicOrWif","Decode","hasBeenDecoded","state","setState","psbtInput","onDecodeClick","Circle","borderRadius","margin","balance","toLocaleString","minimumFractionDigits","maximumFractionDigits","Balances","entries","balanceInSatoshis","Spinner","showCreate","showImport","hasBalances","isLoading","explorerUrl","catch","getBalances","qtyString","componentDidMount","LBTC_ASSET_HASH","isRegtest","unconfidentialAddress","callFaucet","callMint","App","useStorage","useGlobalStorage","storageOptions","explorer","loaded","xpubOrAddress","selectedNetwork","undefined","ReactDOM","document","getElementById"],"mappings":"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"}